<div #scrollContainer class="absolute inset-0 flex flex-col min-w-0 overflow-y-auto" cdkScrollable>

    <div class="flex min-w-0 flex-auto flex-col m-6">
        <div
            class="flex top-0 z-50 items-center justify-between w-full py-2 px-2 md:px-4 transition-all duration-300 backdrop-blur-md">
            <div class="text-3xl font-semibold leading-tight">
                Solicitudes de cotización
            </div>
            <!-- <div class="flex justify-end mt-4 mb-2 ml-2">
                <button mat-fab color="warn" class="mr-2 rounded-full">
                    <mat-icon class="icon-size-5 icon-thick" [svgIcon]="'heroicons_outline:arrow-left'"></mat-icon>
                </button>
            </div> -->
        </div>
        <article class="mt-5">
            <div class="table-shell mat-elevation-z2">
                <!-- <div class="table-toolbar"> -->
                <div class="flex justify-end pt-4 px-4">
                    <mat-form-field appearance="outline" class="w-128 search">
                        <input matInput (keyup)="applyFilter($event)" placeholder="Escribe para filtrar..." />
                        <mat-icon matSuffix >search</mat-icon>
                    </mat-form-field>
                </div>
                <!-- </div> -->

                <!-- TABLE WRAPPER (SCROLL) -->
                <div class="overflow-auto h-140 px-4">
                    <table mat-table [dataSource]="dataSource" matSort class="pretty-table">

                        <!-- ID -->
                        <ng-container matColumnDef="id">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
                            <td mat-cell *matCellDef="let row" class="mono"> {{ row.id }} </td>
                        </ng-container>

                        <!-- Cliente -->
                        <ng-container matColumnDef="cliente">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Cliente </th>
                            <td mat-cell *matCellDef="let row">
                                <div>
                                    <span class="cell-title">{{ row.cliente_nombre }}</span>
                                    <!-- <span class="cell-subtitle">{{ row.cliente_email }}</span> -->
                                </div>
                            </td>
                        </ng-container>

                        <!-- Hotel -->
                        <ng-container matColumnDef="hotel">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Hotel </th>
                            <td mat-cell *matCellDef="let row">
                                <div>
                                    <span class="cell-title">{{ row.hotel_nombre }}</span>
                                    <!-- <span class="cell-subtitle">
                                        {{ row.destino_nombre }} · {{ row.tipo_destino }}
                                    </span> -->
                                </div>
                            </td>
                        </ng-container>

                        <!-- Destino -->
                        <ng-container matColumnDef="destino">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Destino </th>
                            <td mat-cell *matCellDef="let row">
                                {{ row.destino_nombre }}
                            </td>
                        </ng-container>

                        <!-- Tipo destino -->
                        <ng-container matColumnDef="tipoDestino">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Tipo </th>
                            <td mat-cell *matCellDef="let row">
                                <span class="pill">
                                    {{ row.tipo_destino }}
                                </span>
                            </td>
                        </ng-container>

                        <!-- Empleado -->
                        <ng-container matColumnDef="empleado">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Empleado </th>
                            <td mat-cell *matCellDef="let row">
                                {{ row.empleado_nombre }}
                            </td>
                        </ng-container>

                        <!-- Estatus -->
                        <ng-container matColumnDef="estatus">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Estatus </th>
                            <td mat-cell *matCellDef="let row">
                                <span class="pill" [ngClass]="{
            'pill-ok': (row.estatus_nombre || '') === 'Cotizado',
            'pill-warn': (row.estatus_nombre || '') === 'Nuevo',
            'pill-danger': (row.estatus_nombre || '') === 'Cancelado'
          }">
                                    {{ row.estatus_nombre }}
                                </span>
                            </td>
                        </ng-container>

                        <!-- Actions -->
                        <ng-container matColumnDef="acciones">
                            <th mat-header-cell *matHeaderCellDef class="actions-col"> </th>
                            <td mat-cell *matCellDef="let row" class="actions-col">
                                <button mat-icon-button aria-label="Acciones" [matTooltip]="'Editar cotización'" [routerLink]="'/admin/edicion-cotizacion/' + row.public_id">
                                    <mat-icon class="icon-size-7 " [svgIcon]="'heroicons_outline:pencil-square'"></mat-icon>
                                </button>

                                <!-- <mat-menu #rowMenu="matMenu">
                                    <button mat-menu-item (click)="onView(row)">
                                        <mat-icon>visibility</mat-icon>
                                        <span>Ver</span>
                                    </button>
                                    <button mat-menu-item (click)="onEdit(row)">
                                        <mat-icon>edit</mat-icon>
                                        <span>Editar</span>
                                    </button>
                                    <button mat-menu-item (click)="onDelete(row)" class="danger-item">
                                        <mat-icon>delete</mat-icon>
                                        <span>Eliminar</span>
                                    </button>
                                </mat-menu> -->
                            </td>
                        </ng-container>

                        <!-- Header / Rows -->
                        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="row"></tr>

                        <!-- Empty state -->
                        <tr class="mat-row" *matNoDataRow>
                            <td class="mat-cell empty" [attr.colspan]="displayedColumns.length">
                                <div class="empty-state">
                                    <mat-icon>inbox</mat-icon>
                                    <div>
                                        <div class="empty-title">Sin resultados</div>
                                        <div class="empty-subtitle">Prueba con otro filtro o búsqueda.</div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>


                <!-- FOOTER / PAGINATOR -->
                <div class="table-footer">
                    <mat-paginator  [pageSize]="20" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Seleccionar página">
                    </mat-paginator>
                </div>

            </div>


        </article>
    </div>
</div>